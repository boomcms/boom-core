{"version":3,"sources":["people-manager.js"],"names":["$","Backbone","BoomCMS","PeopleManager","View","extend","el","events","submit #b-groups-new","initialize","options","this","$groupList","$content","groups","Collections","Groups","people","People","sites","Sites","listenTo","editGroup","addGroup","renderGroups","editPerson","showPeopleTable","router","Router","history","start","group","view","GroupListItem","model","append","render","createGroup","e","preventDefault","$el","target","find","create","name","val","success","navigate","getId","trigger","person","PersonView","show","GroupView","empty","each","html","peopleTable","PeopleTable","viewGroup","$peopleTable","jQuery","tagName","template","_","click .delete","sortGroups","remove","toJSON","deleteGroup","Confirmation","done","destroy","collection","sort","click h2, h2 + a","blur h2","editName","$name","removeClass","editableClass","focus","addClass","groupPermissionsEditor","save","set","text","submit #b-people-create","addPersonToTable","PeopleTableItem","createPerson","$form","email","groupIds","i","get","reset","table","selectedGroups","Collection","chosen","sortPeople","deletePerson","getName","getGroups","models","$time","lastLogin","attr","moment","fromNow","click .name, .name + a","click #b-person-delete","change select[name=enabled], select[name=superuser]","change","event","data","selected","removeGroup","deselected","addSite","removeSite","saveName","toggleAttribute","$select","value","routes","","group/:group/edit","group/:group","person/:person","goBackOnPersonDelete","id","getFragment","window","back","home"],"mappings":"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","file":"people-manager.min.js"}