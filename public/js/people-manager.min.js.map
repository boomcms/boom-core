{"version":3,"sources":["people-manager.js"],"names":["$","Backbone","BoomCMS","PeopleManager","View","extend","el","events","submit #b-groups-new","initialize","options","this","$groupList","$content","groups","Collections","Groups","people","People","sites","Sites","listenTo","editGroup","addGroup","renderGroups","editPerson","showPeopleTable","Router","history","start","group","view","GroupListItem","model","append","render","createGroup","e","preventDefault","$el","target","find","create","name","val","person","PersonView","show","GroupView","empty","each","html","peopleTable","PeopleTable","viewGroup","trigger","$peopleTable","jQuery","tagName","template","_","click .delete","sortGroups","remove","toJSON","deleteGroup","confirm","done","destroy","collection","sort","click h2, h2 + a","blur h2","editName","$name","removeClass","editableClass","focus","addClass","groupPermissionsEditor","save","set","text","submit #b-people-create","addPersonToTable","PeopleTableItem","createPerson","$form","email","success","groupIds","i","get","reset","table","selectedGroups","Collection","getId","chosen","sortPeople","deletePerson","getName","getGroups","models","$time","lastLogin","attr","moment","fromNow","click .name, .name + a","click #b-person-delete","change select[name=enabled], select[name=superuser]","change","event","data","selected","removeGroup","deselected","addSite","removeSite","saveName","toggleAttribute","$select","value","routes","","group/:group/edit","group/:group","person/:person","editGroupOnCreate","goBackOnPersonDelete","id","navigate","getFragment","window","back","home"],"mappings":"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","file":"people-manager.min.js"}