{"version":3,"sources":["people-manager.js"],"names":["$","Backbone","BoomCMS","PeopleManager","View","extend","el","events","submit #b-groups-new","initialize","options","this","$groupList","$content","groups","Collections","Groups","people","People","sites","Sites","listenTo","editGroup","addGroup","renderGroups","editPerson","showPeopleTable","Router","history","start","group","view","GroupListItem","model","append","render","createGroup","e","preventDefault","$el","target","find","create","name","val","person","PersonView","show","GroupView","empty","each","html","peopleTable","PeopleTable","viewGroup","trigger","$peopleTable","jQuery","tagName","template","_","click .delete","sortGroups","remove","toJSON","deleteGroup","confirmation","confirm","done","destroy","collection","sort","click h2, h2 + a","blur h2","editName","$name","removeClass","editableClass","focus","addClass","groupPermissionsEditor","save","set","text","submit #b-people-create","addPersonToTable","PeopleTableItem","createPerson","$form","email","success","groupIds","i","get","reset","table","selectedGroups","Collection","getId","chosen","sortPeople","deletePerson","getName","getGroups","models","$time","lastLogin","attr","moment","fromNow","click .name, .name + a","click #b-person-delete","change select[name=enabled], select[name=superuser]","change","event","data","selected","removeGroup","deselected","addSite","removeSite","saveName","toggleAttribute","$select","value","routes","","group/:group/edit","group/:group","person/:person","editGroupOnCreate","goBackOnPersonDelete","id","navigate","getFragment","window","back","home"],"mappings":"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","file":"people-manager.min.js"}