{"version":3,"sources":["people-manager.js"],"names":["$","Backbone","BoomCMS","PeopleManager","View","extend","el","events","submit #b-groups-new","initialize","options","this","$groupList","$content","groups","Collections","Groups","people","People","sites","Sites","listenTo","editGroup","addGroup","renderGroups","editPerson","showPeopleTable","Router","history","start","group","view","GroupListItem","model","append","render","createGroup","e","preventDefault","$el","target","find","create","name","val","person","PersonView","show","GroupView","empty","each","html","peopleTable","PeopleTable","viewGroup","trigger","$peopleTable","jQuery","tagName","template","_","click .delete","sortGroups","remove","toJSON","deleteGroup","confirmation","Confirmation","done","destroy","collection","sort","click h2, h2 + a","blur h2","editName","$name","removeClass","editableClass","focus","addClass","groupPermissionsEditor","save","set","text","submit #b-people-create","addPersonToTable","PeopleTableItem","createPerson","$form","email","success","groupIds","i","get","reset","table","selectedGroups","Collection","getId","chosen","sortPeople","deletePerson","getName","getGroups","models","$time","lastLogin","attr","moment","fromNow","click .name, .name + a","click #b-person-delete","change select[name=enabled], select[name=superuser]","change","event","data","selected","removeGroup","deselected","addSite","removeSite","saveName","toggleAttribute","$select","value","routes","","group/:group/edit","group/:group","person/:person","editGroupOnCreate","goBackOnPersonDelete","id","navigate","getFragment","window","back","home"],"mappings":"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","file":"people-manager.min.js"}