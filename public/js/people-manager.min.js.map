{"version":3,"file":"people-manager.min.js","sources":["people-manager.js"],"names":["$","Backbone","BoomCMS","PeopleManager","View","extend","el","events","submit #b-groups-new","initialize","options","this","$groupList","$content","groups","Collections","Groups","people","People","sites","Sites","listenTo","editGroup","addGroup","renderGroups","editPerson","showPeopleTable","router","Router","history","start","group","view","GroupListItem","model","append","render","createGroup","e","preventDefault","$el","target","find","create","name","val","success","navigate","getId","trigger","person","PersonView","show","GroupView","empty","each","html","peopleTable","PeopleTable","viewGroup","$peopleTable","jQuery","tagName","template","_","click .delete","sortGroups","remove","toJSON","deleteGroup","Confirmation","done","destroy","collection","sort","blur h2","$name","boomcmsEditableHeading","groupPermissionsEditor","save","set","text","submit #b-people-create","addPersonToGroups","groupIds","i","get","createPerson","$form","email","addPersonToTable","PeopleTableItem","processCreatePersonForm","findByEmail","undefined","table","selectedGroups","Collection","chosen","focus","sortPeople","deletePerson","getName","getGroups","models","ui","click #b-person-delete","change select[name=enabled], select[name=superuser]","createdBy","getCreatedBy","change","event","data","selected","removeGroup","deselected","addSite","removeSite","saveName","toggleAttribute","$select","value","attr","routes","","group/:group/edit","group/:group","person/:person","goBackOnPersonDelete","id","getFragment","window","back","home"],"mappings":"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"}