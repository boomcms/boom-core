{"version":3,"sources":["people-manager.js"],"names":["$","Backbone","BoomCMS","PeopleManager","View","extend","el","events","submit #b-groups-new","click #b-people-create","click #b-people-all","initialize","options","this","$groupList","$content","groups","Collections","Groups","people","People","sites","Sites","listenTo","editGroup","addGroup","sortGroups","renderGroups","viewGroup","sortPeople","editPerson","router","showAllPeople","sort","$peopleTable","PeopleTable","render","$el","Router","history","start","group","view","GroupListItem","model","append","createGroup","e","preventDefault","target","find","create","name","val","createPerson","CreatePerson","show","person","PersonView","GroupView","groupPermissionsEditor","empty","each","html","trigger","jQuery","tagName","template","_","click button","serializeJSON","selectedGroups","chosen","click .delete","click .edit","remove","toJSON","deleteGroup","confirmation","confirm","done","destroy","click #b-people-group-save","click h2, h2 + a","blur h2","editName","$name","removeClass","editableClass","focus","addClass","save","set","text","rows","filterPeople","addPersonToTable","PeopleTableItem","getId","action","table","get","deletePerson","getName","getGroups","models","timeago","click .name, .name + a","click #b-person-delete","change select[name=enabled], select[name=superuser]","change","event","data","selected","removeGroup","deselected","addSite","removeSite","saveName","toggleAttribute","$select","value","attr","routes","","group/:group/edit","group/:group","person/:person","editGroupOnCreate","goBackOnPersonDelete","id","navigate","getFragment","window","back","home"],"mappings":"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","file":"people-manager.min.js"}