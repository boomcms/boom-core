{"version":3,"sources":["people-manager.js"],"names":["$","Backbone","BoomCMS","PeopleManager","View","extend","el","events","submit #b-groups-new","initialize","options","this","$groupList","$content","groups","Collections","Groups","people","People","sites","Sites","listenTo","editGroup","addGroup","renderGroups","editPerson","showPeopleTable","router","Router","history","start","group","view","GroupListItem","model","append","render","createGroup","e","preventDefault","$el","target","find","create","name","val","success","navigate","getId","trigger","person","PersonView","show","GroupView","empty","each","html","peopleTable","PeopleTable","viewGroup","$peopleTable","jQuery","tagName","template","_","click .delete","sortGroups","remove","toJSON","deleteGroup","confirmation","Confirmation","done","destroy","collection","sort","click h2, h2 + a","blur h2","editName","$name","removeClass","editableClass","focus","addClass","groupPermissionsEditor","save","set","text","submit #b-people-create","addPersonToGroups","groupIds","i","get","createPerson","$form","email","addPersonToTable","PeopleTableItem","processCreatePersonForm","findByEmail","undefined","table","selectedGroups","Collection","chosen","sortPeople","deletePerson","getName","getGroups","models","$time","lastLogin","attr","moment","fromNow","click .name, .name + a","click #b-person-delete","change select[name=enabled], select[name=superuser]","change","event","data","selected","removeGroup","deselected","addSite","removeSite","saveName","toggleAttribute","$select","value","routes","","group/:group/edit","group/:group","person/:person","goBackOnPersonDelete","id","getFragment","window","back","home"],"mappings":"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","file":"people-manager.min.js"}